(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){e.exports=t(51)},33:function(e,a,t){},49:function(e,a,t){},51:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(24),c=t.n(r),o=(t(33),t(3)),s=t(4),i=t(6),u=t(5),m=t(7),h=t(10),g=t(8),d=t(52),p=t(53),b=l.a.createContext(null),f=t(13),E=t.n(f),v=(t(36),t(38),t(41),{apiKey:"AIzaSyDni4UflIR1JzzSmNdyUfOUIWx9x0nzGM8",authDomain:"cat-243915.firebaseapp.com",databaseURL:"https://cat-243915.firebaseio.com",projectId:"youtube-cat-243915",storageBucket:"youtube-cat-243915.appspot.com",messagingSenderId:"719371077954",appId:"1:719371077954:web:12eebc6a33e42ddc"}),y=function e(){var a=this;Object(o.a)(this,e),this.onAuthUserListener=function(e,t){return a.auth.onAuthStateChanged(function(n){n?a.user(n.uid).get().then(function(a){var t=a.data();t.roles||(t.roles={}),n=Object(g.a)({uid:n.uid,email:n.email},t),e(n)}):t()})},this.doCreateUserWithEmailAndPassword=function(e,t){return a.auth.createUserWithEmailAndPassword(e,t)},this.doSignInWithEmailAndPassword=function(e,t){return a.auth.signInWithEmailAndPassword(e,t)},this.doSignInWithGoogle=function(){return a.auth.signInWithPopup(a.googleProvider)},this.doSignOut=function(){return a.auth.signOut()},this.doPasswordReset=function(e){return a.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return a.auth.currentUser.updatePassword(e)},this.user=function(e){return a.db.doc("users/".concat(e))},this.users=function(){return a.db.collection("users")},E.a.initializeApp(v),this.fieldValue=E.a.firestore.FieldValue,this.auth=E.a.auth(),this.db=E.a.firestore(),this.googleProvider=new E.a.auth.GoogleAuthProvider},k={username:"",email:"",password:"",retypePassword:"",error:null},S=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state=Object(g.a)({},k),t.handleOnChange=function(e){t.setState(t.setState(Object(h.a)({},e.target.name,e.target.value)))},t.onSubmit=function(e,a){console.log(e);var n=t.state,l=n.email,r=n.password,c=n.username;e.firebase.doCreateUserWithEmailAndPassword(l,r).then(function(a){return e.firebase.user(a.user.uid).set({username:c,email:l},{merge:!0})}).then(function(e){t.setState(Object(g.a)({},k)),t.props.changePage("LogIn")}).catch(function(e){t.setState({error:e})}),a.preventDefault()},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.username,n=a.email,r=a.password,c=a.retypePassword,o=a.error,s=""===r||r!==c||""===t;return l.a.createElement(b.Consumer,null,function(a){return l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Sign Up:"),l.a.createElement(d.a,{placeholder:"Username",name:"username",onChange:e.handleOnChange,value:t}),l.a.createElement(d.a,{placeholder:"Email",name:"email",onChange:e.handleOnChange,value:n}),l.a.createElement(d.a,{placeholder:"Password",name:"password",type:"password",onChange:e.handleOnChange,value:r}),l.a.createElement(d.a,{placeholder:"Retype Password",name:"retypePassword",type:"password",onChange:e.handleOnChange,value:c}),l.a.createElement(p.a,{disabled:s,color:"primary",type:"submit",onClick:function(t){return e.onSubmit({firebase:a},t)}},"Sign Up!")," ",l.a.createElement("br",null),o&&l.a.createElement("p",null,o.message),"Already have an account?"," ",l.a.createElement("span",{className:"linking",onClick:function(){return e.props.changePage("LogIn")}},"Sign in"))})}}]),a}(n.Component),w=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={errror:null},t.onSubmit=function(e){t.props.firebase.doSignInWithGoogle().then(function(e){return t.props.firebase.user(e.user.uid).set({username:e.user.displayName,email:e.user.email},{merge:!0})}).then(function(e){t.setState({error:null}),console.log("success"),t.props.firebase.auth.onAuthStateChanged(function(e){t.props.changeAuth(e),t.props.changePage("Welcome")})}).catch(function(e){t.setState({error:e})}),e.preventDefault()},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state.error;return l.a.createElement("div",null,l.a.createElement(p.a,{color:"primary",type:"submit",onClick:this.onSubmit},"Sign In with Google"),e&&l.a.createElement("p",null,e.message))}}]),a}(n.Component),C={email:"",password:"",error:null},O=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state=Object(g.a)({},C),t.handleOnChange=function(e){t.setState(t.setState(Object(h.a)({},e.target.name,e.target.value)))},t.onSubmit=function(e,a){console.log(e);var n=t.state,l=n.email,r=n.password;e.firebase.doSignInWithEmailAndPassword(l,r).then(function(a){console.log("logged in"),t.setState(Object(g.a)({},C)),e.firebase.auth.onAuthStateChanged(function(e){t.props.changeAuth(e),t.props.changePage("Welcome")})}).catch(function(e){t.setState({error:e})}),a.preventDefault()},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.email,n=a.password,r=a.error,c=""===n||""===t;return l.a.createElement(b.Consumer,null,function(a){return l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Sign In"),l.a.createElement(d.a,{placeholder:"Email",name:"email",onChange:e.handleOnChange,value:t}),l.a.createElement(d.a,{placeholder:"Password",name:"password",type:"password",onChange:e.handleOnChange,value:n}),l.a.createElement(p.a,{disabled:c,color:"primary",type:"submit",onClick:function(t){return e.onSubmit({firebase:a},t)}},"Sign In"),r&&l.a.createElement("p",null,r.message),l.a.createElement(w,{changePage:e.props.changePage,changeAuth:e.props.changeAuth,firebase:a}),l.a.createElement("br",null),l.a.createElement("span",{className:"linking",onClick:function(){return e.props.changePage("ForgotPassword")}},"Forgot Password?"),l.a.createElement("br",null),"Don't have an account?"," ",l.a.createElement("span",{className:"linking",onClick:function(){return e.props.changePage("SignUp")}},"Sign Up"))})}}]),a}(n.Component),P=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={selectAllChecked:!0},t.handleSavePreferences=function(){for(var e=document.getElementsByClassName("enableKey"),a=[],t=[],n=0;n<e.length;n++)e[n].checked&&(a.push(e[n].value),t.push(e[n].name));chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{todo:"changePreferences",categories:t})}),localStorage.setItem("blockedCategories",JSON.stringify(a)),console.log(a)},t.handleSelectAll=function(){if(t.setState({selectAllChecked:!t.state.selectAllChecked}),t.state.selectAllChecked)for(var e=document.getElementsByClassName("enableKey"),a=0;a<e.length;a++)e[a].checked=!0;else for(var n=document.getElementsByClassName("enableKey"),l=0;l<n.length;l++)n[l].checked=!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("blockedCategories"));if(console.log("Blocked Categories: ",e),null!==e){var a=document.getElementsByClassName("enableKey");console.log("blocked cats: ",e);for(var t=0;t<e.length;t++)console.log("element:",e[t]),a[e[t]].checked=!0}}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Blocked categories:"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"checkbox-group"},l.a.createElement("ul",{className:"blockedcategories"},l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"-1",id:"selectAll",onClick:this.handleSelectAll}),"Select all"),l.a.createElement("br",null),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"0",name:"Auto & Vehicles",class:"enableKey"}),"Auto & Vehicles"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"1",name:"Beauty & Fashion",class:"enableKey"}),"Beauty & Fashion"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"2",name:"Comedy",class:"enableKey"}),"Comedy"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"3",name:"Education",class:"enableKey"}),"Education"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"4",name:"Entertainment",class:"enableKey"}),"Entertainment"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"5",name:"Family Entertainment",class:"enableKey"}),"Family Entertainment"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"6",name:"Film & Animation",class:"enableKey"}),"Film & Animation"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"7",name:"Food",class:"enableKey"}),"Food"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"8",name:"Gaming",class:"enableKey"}),"Gaming"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"9",name:"How-to & Style",class:"enableKey"}),"How-to & Style"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"10",name:"Music",class:"enableKey"}),"Music"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"11",name:"News & Politics",class:"enableKey"}),"News & Politics"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"12",name:"Nonprofits & Activism",class:"enableKey"}),"Nonprofits &A Activism"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"13",name:"People & Blogs",class:"enableKey"}),"People & Blogs"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"14",name:"Pets & Animals",class:"enableKey"}),"Pets & Animals"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"15",name:"Science & Technology",class:"enableKey"}),"Science & Technology"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"16",name:"Sports",class:"enableKey"}),"Sports"),l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",value:"17",name:"Travel & Events",class:"enableKey"}),"Travel & Events")),l.a.createElement("button",{id:"savePreferences",onClick:this.handleSavePreferences},"Let the blocking begin!"))))}}]),a}(n.Component),A={email:"",error:null},j=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state=Object(g.a)({},A,{resetEmailSent:!1}),t.handleOnChange=function(e){t.setState(t.setState(Object(h.a)({},e.target.name,e.target.value)))},t.onSubmit=function(e,a){console.log(e);var n=t.state.email;e.firebase.doPasswordReset(n).then(function(e){console.log("reset email sent"),t.setState(Object(g.a)({},A,{resetEmailSent:!0}))}).catch(function(e){t.setState({error:e})}),a.preventDefault()},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.email,n=a.resetEmailSent,r=a.error,c=""===t;return l.a.createElement(b.Consumer,null,function(a){return l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Reset Password"),l.a.createElement(d.a,{placeholder:"Email",name:"email",onChange:e.handleOnChange,value:t}),l.a.createElement(p.a,{disabled:c,color:"primary",type:"submit",onClick:function(t){return e.onSubmit({firebase:a},t)}},"Send email to reset"),r&&l.a.createElement("p",null,r.message),n&&l.a.createElement("div",null,l.a.createElement("p",null,"An email has been sent to reset your password")))})}}]),a}(n.Component),U=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={},t.handleSignOut=function(e){e.doSignOut().then(function(a){console.log("signout"),e.auth.onAuthStateChanged(function(e){t.props.changeAuth(e),t.props.changePage("LogIn")})})},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(b.Consumer,null,function(a){return l.a.createElement("div",null,"Meow Arjavi!",l.a.createElement("br",null),l.a.createElement("span",{className:"linking",onClick:function(){return e.props.changePage("BlockedCategories")}},"Block Categories"),l.a.createElement("br",null),l.a.createElement(p.a,{onClick:function(){return e.handleSignOut(a)}},"Sign Out"))})}}]),a}(n.Component),x=t(26),N=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={page:"",authUser:localStorage.getItem("authUser")},t.handlePages=function(e){t.setState({page:e})},t.handleAuthUser=function(e){t.setState({authUser:e}),localStorage.setItem("authUser",e)},t.handleBack=function(){"SignUp"===t.state.page||"ForgotPassword"===t.state.page?t.handlePages("LogIn"):"BlockedCategories"===t.state.page&&t.handlePages("Welcome")},t.renderBack=function(){return console.log(t.state.page),"LogIn"===t.state.page||""===t.state.page||"Welcome"===t.state.page?l.a.createElement("div",null):l.a.createElement(x.a,{className:"backButton",icon:["fas","arrow-left"],size:"lg"})},t.renderComponent=function(){switch(t.state.page){case"LogIn":return l.a.createElement(O,{changePage:t.handlePages,changeAuth:t.handleAuthUser,page:t.state.page});case"SignUp":return l.a.createElement(S,{changePage:t.handlePages});case"ForgotPassword":return l.a.createElement(j,{changePage:t.handlePages});case"Welcome":return l.a.createElement(U,{changePage:t.handlePages,changeAuth:t.handleAuthUser,authUser:t.state.authUser});case"BlockedCategories":return l.a.createElement(P,{changePage:t.handlePages});default:return"null"!==t.state.authUser?l.a.createElement(U,{changePage:t.handlePages,changeAuth:t.handleAuthUser,authUser:t.state.authUser}):l.a.createElement(O,{changePage:t.handlePages,changeAuth:t.handleAuthUser,page:t.state.page})}},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container flexing"},l.a.createElement("div",{className:"flex1",onClick:this.handleBack},this.renderBack()),l.a.createElement("div",{className:"flex2"},this.renderComponent()))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(49),t(50);var I=t(14),K=t(27);I.b.add(K.a),c.a.render(l.a.createElement(b.Provider,{value:new y},l.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.51c5eeca.chunk.js.map