{"ast":null,"code":"var _jsxFileName = \"/home/arjavi/Desktop/Orbital/youtube-cat/src/components/BlockCategories.jsx\";\n\n/*global chrome*/\nimport React, { Component } from \"react\";\nimport { FirebaseContext } from \"./firebase\";\n\nclass BlockCategories extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectAllChecked: true\n    };\n\n    this.handleSavePreferences = firebase => {\n      const elements = document.getElementsByClassName(\"enableKey\");\n      let checkedItems = [];\n      const catArray = [];\n\n      for (let i = 0; i < elements.length; i++) {\n        if (elements[i].checked) {\n          checkedItems.push(elements[i].value);\n          catArray.push(elements[i].name);\n        }\n      } // chrome.tabs.query(\n      //   {\n      //     active: true,\n      //     currentWindow: true\n      //   },\n      //   function(tabs) {\n      //     chrome.tabs.sendMessage(tabs[0].id, {\n      //       todo: \"changePreferences\",\n      //       categories: catArray\n      //     });\n      //   }\n      // );\n\n\n      localStorage.setItem(\"blockedCategories\", JSON.stringify(checkedItems));\n      firebase.user(this.props.authUser.uid).set({\n        blockedCategories: checkedItems\n      }, {\n        merge: true\n      });\n      console.log(checkedItems);\n    };\n\n    this.handleSelectAll = () => {\n      this.setState({\n        selectAllChecked: !this.state.selectAllChecked\n      });\n\n      if (this.state.selectAllChecked) {\n        const elements = document.getElementsByClassName(\"enableKey\");\n\n        for (let i = 0; i < elements.length; i++) {\n          elements[i].checked = true;\n        }\n      } else {\n        const elements = document.getElementsByClassName(\"enableKey\");\n\n        for (let i = 0; i < elements.length; i++) {\n          elements[i].checked = false;\n        }\n      }\n    };\n  }\n\n  async componentDidMount() {\n    // console.log(this.props.authUser.uid);\n    // const blockedCategories = firebase\n    //   .user(this.props.authUser.uid)\n    //   .onSnapshot(snapshot => {\n    //     return snapshot.data();\n    //   });\n    // console.log(\"Blocked Categories: \", blockedCategories);\n    const blockedCategories = await this.props.firebase.user(this.props.authUser.uid).onSnapshot(snapshot => {\n      return snapshot.data();\n    });\n\n    if (null !== blockedCategories && undefined !== blockedCategories) {\n      const elements = document.getElementsByClassName(\"enableKey\");\n      console.log(\"blocked cats: \", blockedCategories.blockedCategories); // for (let i = 0; i < blockedCategories.length; i++) {\n      //   console.log(\"element:\", blockedCategories[i]);\n      //   elements[blockedCategories[i]].checked = true;\n      // }\n    }\n  } // getBlockedCategories = (firebase) => {\n  //   firebase.user(this.props.authUser.uid).onSnapshot(snapshot => {\n  //     snapshot.data().then\n  //   });\n  //   const { blockedCategories } = this.state;\n  //   if (null !== blockedCategories && undefined !== blockedCategories) {\n  //     const elements = document.getElementsByClassName(\"enableKey\");\n  //     console.log(\"blocked cats: \", blockedCategories.blockedCategories);\n  //     // for (let i = 0; i < blockedCategories.length; i++) {\n  //     //   console.log(\"element:\", blockedCategories[i]);\n  //     //   elements[blockedCategories[i]].checked = true;\n  //     // }\n  //   }\n  // }\n\n\n  render() {\n    return (// <FirebaseContext.Consumer>\n      //   {firebase => {\n      //     this.getBlockedCategories(firebase);\n      // return (\n      React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Blocked categories:\"), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"checkbox-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"blockedcategories\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"-1\",\n        id: \"selectAll\",\n        onClick: this.handleSelectAll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), \"Select all\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"0\",\n        name: \"Auto & Vehicles\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), \"Auto & Vehicles\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"1\",\n        name: \"Beauty & Fashion\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), \"Beauty & Fashion\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"2\",\n        name: \"Comedy\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), \"Comedy\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"3\",\n        name: \"Education\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), \"Education\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"4\",\n        name: \"Entertainment\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), \"Entertainment\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"5\",\n        name: \"Family Entertainment\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), \"Family Entertainment\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"6\",\n        name: \"Film & Animation\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), \"Film & Animation\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"7\",\n        name: \"Food\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), \"Food\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"8\",\n        name: \"Gaming\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), \"Gaming\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"9\",\n        name: \"How-to & Style\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), \"How-to & Style\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"10\",\n        name: \"Music\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }), \"Music\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"11\",\n        name: \"News & Politics\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), \"News & Politics\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"12\",\n        name: \"Nonprofits & Activism\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), \"Nonprofits &A Activism\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"13\",\n        name: \"People & Blogs\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), \"People & Blogs\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"14\",\n        name: \"Pets & Animals\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }), \"Pets & Animals\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"15\",\n        name: \"Science & Technology\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }), \"Science & Technology\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"16\",\n        name: \"Sports\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), \"Sports\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"17\",\n        name: \"Travel & Events\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }), \"Travel & Events\")), React.createElement(\"button\", {\n        id: \"savePreferences\",\n        onClick: () => this.handleSavePreferences(this.props.firebase),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Let the blocking begin!\"))))\n    ); //   }}\n    // </FirebaseContext.Consumer>\n    // );\n  }\n\n}\n\nexport default BlockCategories;","map":{"version":3,"sources":["/home/arjavi/Desktop/Orbital/youtube-cat/src/components/BlockCategories.jsx"],"names":["React","Component","FirebaseContext","BlockCategories","state","selectAllChecked","handleSavePreferences","firebase","elements","document","getElementsByClassName","checkedItems","catArray","i","length","checked","push","value","name","localStorage","setItem","JSON","stringify","user","props","authUser","uid","set","blockedCategories","merge","console","log","handleSelectAll","setState","componentDidMount","onSnapshot","snapshot","data","undefined","render"],"mappings":"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","sourcesContent":["/*global chrome*/\nimport React, { Component } from \"react\";\nimport { FirebaseContext } from \"./firebase\";\n\nclass BlockCategories extends Component {\n  state = {\n    selectAllChecked: true\n  };\n\n  async componentDidMount() {\n    // console.log(this.props.authUser.uid);\n    // const blockedCategories = firebase\n    //   .user(this.props.authUser.uid)\n    //   .onSnapshot(snapshot => {\n    //     return snapshot.data();\n    //   });\n    // console.log(\"Blocked Categories: \", blockedCategories);\n    const blockedCategories = await this.props.firebase\n      .user(this.props.authUser.uid)\n      .onSnapshot(snapshot => {\n        return snapshot.data();\n      });\n\n    if (null !== blockedCategories && undefined !== blockedCategories) {\n      const elements = document.getElementsByClassName(\"enableKey\");\n\n      console.log(\"blocked cats: \", blockedCategories.blockedCategories);\n\n      // for (let i = 0; i < blockedCategories.length; i++) {\n      //   console.log(\"element:\", blockedCategories[i]);\n      //   elements[blockedCategories[i]].checked = true;\n      // }\n    }\n  }\n\n  // getBlockedCategories = (firebase) => {\n  //   firebase.user(this.props.authUser.uid).onSnapshot(snapshot => {\n  //     snapshot.data().then\n  //   });\n\n  //   const { blockedCategories } = this.state;\n\n  //   if (null !== blockedCategories && undefined !== blockedCategories) {\n  //     const elements = document.getElementsByClassName(\"enableKey\");\n\n  //     console.log(\"blocked cats: \", blockedCategories.blockedCategories);\n\n  //     // for (let i = 0; i < blockedCategories.length; i++) {\n  //     //   console.log(\"element:\", blockedCategories[i]);\n  //     //   elements[blockedCategories[i]].checked = true;\n  //     // }\n  //   }\n  // }\n\n  handleSavePreferences = firebase => {\n    const elements = document.getElementsByClassName(\"enableKey\");\n    let checkedItems = [];\n    const catArray = [];\n    for (let i = 0; i < elements.length; i++) {\n      if (elements[i].checked) {\n        checkedItems.push(elements[i].value);\n        catArray.push(elements[i].name);\n      }\n    }\n\n    // chrome.tabs.query(\n    //   {\n    //     active: true,\n    //     currentWindow: true\n    //   },\n    //   function(tabs) {\n    //     chrome.tabs.sendMessage(tabs[0].id, {\n    //       todo: \"changePreferences\",\n    //       categories: catArray\n    //     });\n    //   }\n    // );\n\n    localStorage.setItem(\"blockedCategories\", JSON.stringify(checkedItems));\n    firebase.user(this.props.authUser.uid).set(\n      {\n        blockedCategories: checkedItems\n      },\n      { merge: true }\n    );\n    console.log(checkedItems);\n  };\n\n  handleSelectAll = () => {\n    this.setState({\n      selectAllChecked: !this.state.selectAllChecked\n    });\n\n    if (this.state.selectAllChecked) {\n      const elements = document.getElementsByClassName(\"enableKey\");\n      for (let i = 0; i < elements.length; i++) {\n        elements[i].checked = true;\n      }\n    } else {\n      const elements = document.getElementsByClassName(\"enableKey\");\n      for (let i = 0; i < elements.length; i++) {\n        elements[i].checked = false;\n      }\n    }\n  };\n\n  render() {\n    return (\n      // <FirebaseContext.Consumer>\n      //   {firebase => {\n      //     this.getBlockedCategories(firebase);\n      // return (\n      <div className=\"container\">\n        <h1>Blocked categories:</h1>\n        <div className=\"row\">\n          <div className=\"checkbox-group\">\n            <ul className=\"blockedcategories\">\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"-1\"\n                  id=\"selectAll\"\n                  onClick={this.handleSelectAll}\n                />\n                Select all\n              </li>\n              <br />\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"0\"\n                  name=\"Auto & Vehicles\"\n                  class=\"enableKey\"\n                />\n                Auto & Vehicles\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"1\"\n                  name=\"Beauty & Fashion\"\n                  class=\"enableKey\"\n                />\n                Beauty & Fashion\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"2\"\n                  name=\"Comedy\"\n                  class=\"enableKey\"\n                />\n                Comedy\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"3\"\n                  name=\"Education\"\n                  class=\"enableKey\"\n                />\n                Education\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"4\"\n                  name=\"Entertainment\"\n                  class=\"enableKey\"\n                />\n                Entertainment\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"5\"\n                  name=\"Family Entertainment\"\n                  class=\"enableKey\"\n                />\n                Family Entertainment\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"6\"\n                  name=\"Film & Animation\"\n                  class=\"enableKey\"\n                />\n                Film & Animation\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"7\"\n                  name=\"Food\"\n                  class=\"enableKey\"\n                />\n                Food\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"8\"\n                  name=\"Gaming\"\n                  class=\"enableKey\"\n                />\n                Gaming\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"9\"\n                  name=\"How-to & Style\"\n                  class=\"enableKey\"\n                />\n                How-to & Style\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"10\"\n                  name=\"Music\"\n                  class=\"enableKey\"\n                />\n                Music\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"11\"\n                  name=\"News & Politics\"\n                  class=\"enableKey\"\n                />\n                News & Politics\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"12\"\n                  name=\"Nonprofits & Activism\"\n                  class=\"enableKey\"\n                />\n                Nonprofits &A Activism\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"13\"\n                  name=\"People & Blogs\"\n                  class=\"enableKey\"\n                />\n                People & Blogs\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"14\"\n                  name=\"Pets & Animals\"\n                  class=\"enableKey\"\n                />\n                Pets & Animals\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"15\"\n                  name=\"Science & Technology\"\n                  class=\"enableKey\"\n                />\n                Science & Technology\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"16\"\n                  name=\"Sports\"\n                  class=\"enableKey\"\n                />\n                Sports\n              </li>\n              <li>\n                <input\n                  type=\"checkbox\"\n                  value=\"17\"\n                  name=\"Travel & Events\"\n                  class=\"enableKey\"\n                />\n                Travel & Events\n              </li>\n            </ul>\n            <button\n              id=\"savePreferences\"\n              onClick={() => this.handleSavePreferences(this.props.firebase)}\n            >\n              Let the blocking begin!\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n    //   }}\n    // </FirebaseContext.Consumer>\n    // );\n  }\n}\n\nexport default BlockCategories;\n"]},"metadata":{},"sourceType":"module"}