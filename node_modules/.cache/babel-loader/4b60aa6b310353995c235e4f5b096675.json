{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dalis\\\\Documents\\\\GitHub\\\\youtube-cat\\\\src\\\\components\\\\BlockCategories.jsx\";\n\n/*global chrome*/\nimport React, { Component } from \"react\";\nimport { FirebaseContext } from \"./firebase\";\n\nclass BlockCategories extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectAllChecked: true,\n      blockedCategories: null\n    };\n\n    this.handleSavePreferences = firebase => {\n      const elements = document.getElementsByClassName(\"enableKey\");\n      let checkedItems = [];\n      const catArray = [];\n\n      for (let i = 0; i < elements.length; i++) {\n        if (elements[i].checked) {\n          checkedItems.push(elements[i].value);\n          catArray.push(elements[i].name);\n        }\n      }\n\n      chrome.tabs.query({\n        active: true,\n        currentWindow: true\n      }, function (tabs) {\n        chrome.tabs.sendMessage(tabs[0].id, {\n          todo: \"changePreferences\",\n          categories: catArray\n        });\n        console.log(\"sending message about cats\");\n      });\n      localStorage.setItem(\"blockedCategories\", JSON.stringify(checkedItems));\n      firebase.user(this.props.authUser.uid).set({\n        blockedCategories: checkedItems\n      }, {\n        merge: true\n      });\n      console.log(checkedItems);\n    };\n\n    this.handleSelectAll = () => {\n      this.setState({\n        selectAllChecked: !this.state.selectAllChecked\n      });\n\n      if (this.state.selectAllChecked) {\n        const elements = document.getElementsByClassName(\"enableKey\");\n\n        for (let i = 0; i < elements.length; i++) {\n          elements[i].checked = true;\n        }\n      } else {\n        const elements = document.getElementsByClassName(\"enableKey\");\n\n        for (let i = 0; i < elements.length; i++) {\n          elements[i].checked = false;\n        }\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const blockedCategories = await this.props.firebase.user(this.props.authUser.uid).onSnapshot(snapshot => {\n      this.setState({\n        blockedCategories: snapshot.data()\n      }, () => {\n        const blockedCategories = this.state.blockedCategories;\n\n        if (null !== blockedCategories && undefined !== blockedCategories) {\n          if (undefined !== blockedCategories.blockedCategories) {\n            const elements = document.getElementsByClassName(\"enableKey\");\n            const getCategories = blockedCategories.blockedCategories;\n            console.log(\"blocked cats: \", blockedCategories.blockedCategories);\n\n            for (let i = 0; i < getCategories.length; i++) {\n              console.log(\"element:\", getCategories[i]);\n              elements[getCategories[i]].checked = true;\n            }\n          }\n        }\n      });\n    });\n  }\n\n  render() {\n    return (// <FirebaseContext.Consumer>\n      //   {firebase => {\n      //     this.getBlockedCategories(firebase);\n      // return (\n      React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"toptext\",\n        style: \"margin-bottom: 10px;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Blocked categories:\"), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"checkbox-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"blockedcategories\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"-1\",\n        id: \"selectAll\",\n        onClick: this.handleSelectAll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), \"Select all\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"0\",\n        name: \"Auto & Vehicles\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), \"Auto & Vehicles\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"1\",\n        name: \"Beauty & Fashion\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), \"Beauty & Fashion\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"2\",\n        name: \"Comedy\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), \"Comedy\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"3\",\n        name: \"Education\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), \"Education\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"4\",\n        name: \"Entertainment\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), \"Entertainment\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"5\",\n        name: \"Family Entertainment\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), \"Family Entertainment\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"6\",\n        name: \"Film & Animation\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), \"Film & Animation\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"7\",\n        name: \"Food\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), \"Food\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"8\",\n        name: \"Gaming\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), \"Gaming\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"9\",\n        name: \"How-to & Style\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }), \"Howto & Style\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"10\",\n        name: \"Music\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), \"Music\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"11\",\n        name: \"News & Politics\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), \"News & Politics\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"12\",\n        name: \"Nonprofits & Activism\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), \"Nonprofits & Activism\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"13\",\n        name: \"People & Blogs\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), \"People & Blogs\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"14\",\n        name: \"Pets & Animals\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }), \"Pets & Animals\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"15\",\n        name: \"Science & Technology\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }), \"Science & Technology\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"16\",\n        name: \"Sports\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }), \"Sports\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"17\",\n        name: \"Travel & Events\",\n        class: \"enableKey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), \"Travel & Events\")), React.createElement(\"button\", {\n        id: \"savePreferences\",\n        onClick: () => this.handleSavePreferences(this.props.firebase),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Begin block!\"))))\n    ); //   }}\n    // </FirebaseContext.Consumer>\n    // );\n  }\n\n}\n\nexport default BlockCategories;","map":{"version":3,"sources":["C:\\Users\\dalis\\Documents\\GitHub\\youtube-cat\\src\\components\\BlockCategories.jsx"],"names":["React","Component","FirebaseContext","BlockCategories","state","selectAllChecked","blockedCategories","handleSavePreferences","firebase","elements","document","getElementsByClassName","checkedItems","catArray","i","length","checked","push","value","name","chrome","tabs","query","active","currentWindow","sendMessage","id","todo","categories","console","log","localStorage","setItem","JSON","stringify","user","props","authUser","uid","set","merge","handleSelectAll","setState","componentDidMount","onSnapshot","snapshot","data","undefined","getCategories","render"],"mappings":"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","sourcesContent":["/*global chrome*/\r\nimport React, { Component } from \"react\";\r\nimport { FirebaseContext } from \"./firebase\";\r\n\r\nclass BlockCategories extends Component {\r\n  state = {\r\n    selectAllChecked: true,\r\n    blockedCategories: null\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const blockedCategories = await this.props.firebase\r\n      .user(this.props.authUser.uid)\r\n      .onSnapshot(snapshot => {\r\n        this.setState({ blockedCategories: snapshot.data() }, () => {\r\n          const { blockedCategories } = this.state;\r\n\r\n          if (null !== blockedCategories && undefined !== blockedCategories) {\r\n            if (undefined !== blockedCategories.blockedCategories) {\r\n              const elements = document.getElementsByClassName(\"enableKey\");\r\n              const getCategories = blockedCategories.blockedCategories;\r\n              console.log(\r\n                \"blocked cats: \",\r\n                blockedCategories.blockedCategories\r\n              );\r\n\r\n              for (let i = 0; i < getCategories.length; i++) {\r\n                console.log(\"element:\", getCategories[i]);\r\n                elements[getCategories[i]].checked = true;\r\n              }\r\n            }\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSavePreferences = firebase => {\r\n    const elements = document.getElementsByClassName(\"enableKey\");\r\n    let checkedItems = [];\r\n    const catArray = [];\r\n    for (let i = 0; i < elements.length; i++) {\r\n      if (elements[i].checked) {\r\n        checkedItems.push(elements[i].value);\r\n        catArray.push(elements[i].name);\r\n      }\r\n    }\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true\r\n      },\r\n      function(tabs) {\r\n        chrome.tabs.sendMessage(tabs[0].id, {\r\n          todo: \"changePreferences\",\r\n          categories: catArray\r\n        });\r\n        console.log(\"sending message about cats\");\r\n      }\r\n    );\r\n\r\n    localStorage.setItem(\"blockedCategories\", JSON.stringify(checkedItems));\r\n    firebase.user(this.props.authUser.uid).set(\r\n      {\r\n        blockedCategories: checkedItems\r\n      },\r\n      { merge: true }\r\n    );\r\n    console.log(checkedItems);\r\n  };\r\n\r\n  handleSelectAll = () => {\r\n    this.setState({\r\n      selectAllChecked: !this.state.selectAllChecked\r\n    });\r\n\r\n    if (this.state.selectAllChecked) {\r\n      const elements = document.getElementsByClassName(\"enableKey\");\r\n      for (let i = 0; i < elements.length; i++) {\r\n        elements[i].checked = true;\r\n      }\r\n    } else {\r\n      const elements = document.getElementsByClassName(\"enableKey\");\r\n      for (let i = 0; i < elements.length; i++) {\r\n        elements[i].checked = false;\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      // <FirebaseContext.Consumer>\r\n      //   {firebase => {\r\n      //     this.getBlockedCategories(firebase);\r\n      // return (\r\n      <div className=\"container\">\r\n        <h1 \r\n          className=\"toptext\" \r\n          style=\"margin-bottom: 10px;\"\r\n        >Blocked categories:</h1>\r\n        <div className=\"row\">\r\n          <div className=\"checkbox-group\">\r\n            <ul className=\"blockedcategories\">\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"-1\"\r\n                  id=\"selectAll\"\r\n                  onClick={this.handleSelectAll}\r\n                />\r\n              \r\n                Select all\r\n              </li>\r\n              <br />\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"0\"\r\n                  name=\"Auto & Vehicles\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Auto & Vehicles\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"1\"\r\n                  name=\"Beauty & Fashion\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Beauty & Fashion\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"2\"\r\n                  name=\"Comedy\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Comedy\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"3\"\r\n                  name=\"Education\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Education\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"4\"\r\n                  name=\"Entertainment\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Entertainment\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"5\"\r\n                  name=\"Family Entertainment\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Family Entertainment\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"6\"\r\n                  name=\"Film & Animation\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Film & Animation\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"7\"\r\n                  name=\"Food\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Food\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"8\"\r\n                  name=\"Gaming\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Gaming\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"9\"\r\n                  name=\"How-to & Style\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Howto & Style\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"10\"\r\n                  name=\"Music\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Music\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"11\"\r\n                  name=\"News & Politics\"\r\n                  class=\"enableKey\"\r\n                />\r\n                News & Politics\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"12\"\r\n                  name=\"Nonprofits & Activism\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Nonprofits & Activism\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"13\"\r\n                  name=\"People & Blogs\"\r\n                  class=\"enableKey\"\r\n                />\r\n                People & Blogs\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"14\"\r\n                  name=\"Pets & Animals\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Pets & Animals\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"15\"\r\n                  name=\"Science & Technology\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Science & Technology\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"16\"\r\n                  name=\"Sports\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Sports\r\n              </li>\r\n              <li>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value=\"17\"\r\n                  name=\"Travel & Events\"\r\n                  class=\"enableKey\"\r\n                />\r\n                Travel & Events\r\n              </li>\r\n            </ul>\r\n            <button\r\n              id=\"savePreferences\"\r\n              onClick={() => this.handleSavePreferences(this.props.firebase)}\r\n            >\r\n              Begin block!\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n    //   }}\r\n    // </FirebaseContext.Consumer>\r\n    // );\r\n  }\r\n}\r\n\r\nexport default BlockCategories;\r\n"]},"metadata":{},"sourceType":"module"}